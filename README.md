# IKE-smooth

## Running
`sage run.sage`  
This will completley use three of your cores

## Best Results
*3/12/18 09:17*  
**A** = 11303838411295062711291529811289253994600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  
**2^A % p (factored)** = 7 * 19 * 73 * 5563 * 9293 * 14197 * 122449 * 1023571 * 1102921 * 165005175702367456439819097046533995372324151753635890791109528392333749093791119404489598060907323793960373561373450542350050399015981176157772057753998232917814152352616252090130748958565008705876129280411146384619513696406306751375104797558906347944626866776708045098340973
**Smoothness bit length** = 914  
**Number of small primes checked** = 100000

*3/11/18 13:21*  
**A** = 1129506271129152981128925391130383840000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000025  
**2^A % p (factored)** =  3^2 * 5^2 * 19 * 181 * 941 * 1069 * 5399 * 9547 * 24121 * 152468692064565160057819856904908339442239977800595219601010515286940487336548114944674071375637226323294467186819469386465157800746044127366031317893635267968347444065351745129638777162371874601475850882144304310274138040178986849417519907391557529592116317984894870505397005293625361
**Smoothness bit length** = 945  
**Number of small primes checked** = 4000

*3/11/18 10:46*  
**A** = 112915298112892539113038384112950627000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000725  
**2^A % p (factored)** = 3^2 * 5 * 11 * 163 * 1019 * 3079 * 4211 * 22483 * 753101693477166126527551558188953317271338117037209773272526665499110985000244114967243388602705224574492314888505926900835273624887308106528441051006068375921396478657039283400921769930584150788413955401353332867919056310374358322351910735091028051169727582170316604034403459104181542849
**Smoothness bit length** = 957  
**Number of small primes checked** = 4000

*3/10/18 22:45*  
**A** = 113038384112950627112915298112892539000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000596  
**2^A % p (factored)** = 3 * 3083 * 30649 * 31751 * 54497 * 86341 *  2672993267947622787663201618980432476133757664564174167682368531271920456360251237725853771074448172533284540186948594123490671321463500626490812236649909492769354619839242038441677353379903115020177798391620803316962004794295761417628862734072498261597348213394015567821518658909347509
**Smoothness bit length** = 948  
**Number of small primes checked** = 10000

*3/10/18 17:59*  
**A** = 113038384112950627112915298112892539000000441  
**2^A % p (factored)** = 7 * 13 * 3793 * 18583 * 28463 *  292006479276865711089788155898853433780119428543066312747633921942223738801870640267052457873114539624674511938035884324336778860882560542877427643915063060962691710928374500716243866998011941192034751893552257674842871588660033735354050818361974356656098585631307719446214638419417254439420619  
**Smoothness bit length** = 974 

*3/10/18 17:46*  
**A** = 1130383841129506271129152981128925390000000000000000000000000000000000000000000000534  
**2^A % p (factored)** = 3^2 * 61 * 131 * 7297 * 33413 *  8097235151684820623258327766099296585954347374590556409068949417161513802327760214497342673226393631557366317262174641993855119232549328354846371531760189210830257855993165238827687360650532621980444326938263845903104888276115772934478071979352306581912380566619044671765468004049685108180874933  
**Smoothness bit length** = 979  
**Number of small primes checked** = 4000

*3/10/18 11:06*  
**A** = 113038384112950627112915298112892539000000000000000000000000000000000000000598  
**2^A % p (factored)** = 3^2 * 11^3 * 11^2 * 19 * 59 * 83 *  31531939988151515755935541249241644818084787898538367816678696786751025468480324598852372532379040840447580498783421652985508124297928139734407803975803988092252383302555274407403626659042784803254949975847520758125599398820777381960008855196398780519473555506845930304973729994667738196432225706707  
**Smoothness bit length** = 991  
**Number of small primes checked** = 100

*3/10/18 10:52*  
**A** = 113038384112950627112915298112892539000000000000000000000000000000969  
**2^A % p (factored)** = 5 * 7^2 * 11^2 * 19^2 * 2379117159909031401540870451838032697396855129463643089515820515017511580109183576387710623923403227598648392892317540024487720082852640892316623120356860600895468877573715215679219472127117725159751937158913440365073570763644826517241368572564417151126878283371884905771287792672434610658031728279091  
**Smoothness bit length** = 997  
**Number of small primes checked** = 100

*3/9/18*  
**A** = 1130383841129506271129152981128925391183541632353807291668772443379849041280779692799705559472469556430505118793728  
**2^A % p (factored)** = 245519451376879165963598010244683022459994001324769426694717599182964964319835401014058829466711616047363667473151835616248467610575457883521983039982260114265735532736963337970070314099686242235701811259145661456572092332594581369567978169701265114113588119306284823067261566757301896037474998508451755739  
**Smoothness bit length** = 1014  

## Comparisons
### primes vs primes_first_n
```
sage: time b = list(primes(10**7))
CPU times: user 2.6 s, sys: 7.79 ms, total: 2.6 s
Wall time: 2.66 s
sage: time a = primes_first_n(len(b))
CPU times: user 39.6 ms, sys: 4.14 ms, total: 43.8 ms
Wall time: 54.8 ms
sage: a[-3:]
[9999971, 9999973, 9999991]
sage: b[-3:]
[9999971, 9999973, 9999991]
sage: a == b
True
```
I thought primes_first_n was CLEAR winner, but it was the list operation that was slowing it down.

```
sage: time b = primes(10**7)
CPU times: user 27.5 ms, sys: 283 Âµs, total: 27.7 ms
Wall time: 49.4 ms
sage: b
<generator object primes at 0x7eff4098d730>
```

A generator is probably better for memory.

BUT iterating through that generator is much slower

```
sage: time for i in primes_first_n(len(a)): 84729057465249 % i == 0
CPU times: user 380 ms, sys: 12 ms, total: 392 ms
Wall time: 422 ms
sage: time for i in primes(10**7): 84729057465249 % i == 0
CPU times: user 2.96 s, sys: 0 ns, total: 2.96 s
Wall time: 3.04 s
sage: a[-10:]

[9999889,
 9999901,
 9999907,
 9999929,
 9999931,
 9999937,
 9999943,
 9999971,
 9999973,
 9999991]
sage: b
<generator object primes at 0x7eff4098d730>
sage: time for i in a: 84729057465249 % i == 0
CPU times: user 317 ms, sys: 0 ns, total: 317 ms
Wall time: 352 ms
sage: time for i in b: 84729057465249 % i == 0
CPU times: user 2.96 s, sys: 3.3 ms, total: 2.97 s
Wall time: 3.04 s
```

We iterate through the list about 2^1023 times, but only create it once.  
**primes_first_n is winner**

### Power mod functions
```
nick@nick-Inspiron-7559:~/Developer/IKE-smooth$ sage mod_test.sage
0.0104689598083
0.00123405456543
0.0061628818512
nick@nick-Inspiron-7559:~/Developer/IKE-smooth$ sage mod_test.sage
0.0106110572815
0.000602006912231
0.000718116760254
nick@nick-Inspiron-7559:~/Developer/IKE-smooth$ sage mod_test.sage
0.0110380649567
0.000602960586548
0.000695943832397
nick@nick-Inspiron-
```

power_mod is pretty slow  
Using field of integers is slightly faster than 2.powermod


### Checking primes before removing factors

```
nick@nick-Inspiron-7559:~/Developer/IKE-smooth$ sage prime_test.sage
1.84293699265
1.29911899567
```

Checking primes before is faster. (Also note that we must check if it is 1 because 1 is not prime)

### Numer of primes to use

**I think 10000 small primes is the best to use** - Nick

*(Time to find 20 factors,n_primes)*
 - [(252.78114485740662, 900), (256.85365414619446, 400), (256.8697292804718, 300), (257.8345503807068, 200), (259.51637387275696, 800), (261.0605580806732, 100), (266.06234407424927, 500), (267.1421630382538, 600), (268.0893249511719, 700)]  
Maybe unlocking my computer killed 500,600, and 700?  

*(Time to find 40 factors, n_primes)*
 - [(482.46528720855713, 2000), (503.5628271102905, 1000), (503.7016351222992, 1500), (512.841099023819, 900), (526.4915776252747, 400), (531.6825881004333, 300)]
 - [(520.139705657959, 2000), (522.4681298732758, 4000), (526.2712621688843, 10000), (530.9318239688873, 8000)]
 - [(485.54128909111023, 4000), (489.82389783859253, 2500), (490.3478307723999, 3000), (492.9500300884247, 2000), (495.15750789642334, 3500)]  

I tried running the main algorithm with the max number of primes sage can computer (23100000), up to 436273290. Didn't work. Took 26853 sec to output five checkpoints (step = 0) and didn't find a single A.

```
Avg: [(17.242407619953156, 3000), (17.44990050792694, 4000), (17.547848105430603, 2000), (18.2036754488945, 10000), (18.39595329761505, 1000), (18.751014351844788, 500), (22.32103031873703, 50000), (24.18881005048752, 100000), (51.62922531366348, 500000), (82.81098800897598, 1000000)]
Min: [(15.207576036453247, 1000), (16.0191011428833, 2000), (16.308482885360718, 3000), (16.416794061660767, 4000), (16.570228099822998, 500), (16.82111096382141, 10000), (18.77283787727356, 50000), (20.05897617340088, 100000), (29.64018988609314, 500000), (40.668346881866455, 1000000)]
Max: [(19.421143770217896, 3000), (19.701918125152588, 4000), (19.89055609703064, 2000), (20.404731035232544, 10000), (20.7428240776062, 500), (21.019025087356567, 1000), (27.681003093719482, 50000), (29.05906105041504,100000), (69.4222640991211, 500000), (119.92506098747253, 1000000)]
```
